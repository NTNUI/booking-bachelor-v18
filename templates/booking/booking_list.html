{% extends 'base.html' %}

{% load static %}

{% block extra_js%}
    <script
        src="http://code.jquery.com/jquery-3.3.1.js"
        integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="
        crossorigin="anonymous"
        src="http://malsup.github.com/jquery.form.js">
    </script>
{% endblock %}


{% block stylesheet %}
    <link rel="stylesheet" href="{% static 'css/my_bookings.css' %}">
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
{% endblock %}

{% block content %}
    <div class="booking-container">

        <!-- The modal -->
        <div id="booking-modal" class="modal-big">

            <!-- Modal content -->
            <div class="booking-modal-contents">

            </div>
        </div>

        <!-- My bookings content -->
        <h1 class="myBookingsHeader">
            My bookings
        </h1>

        <div class="myBookingsBox">
            <h3> Hello, {{user.first_name}} {{ user.last_name }}</h3>
            These are your bookings!

            <div class="container">
                <!-- Get all bookings for the user -->
                {% for booking in object_list %}
                {% if user.get_username == booking.person.get_username %}
                <div class="booking-item">
                    <h4>{{ booking.title}}</h4>
                    <div class = "title-description">Time</div>
                    {{ booking.start}} - {{ booking.end }}
                    <div class = "title-description">Location</div>
                    {{ booking.location }}
                    <p>
                        <a id="{{ booking.id }}" class="editModal btn btn-outline-primary btn-sm">Edit</a>
                        <a id="{{ booking.id }}" class="deleteModal btn btn-outline-primary btn-sm">Delete</a>
                    </p>

                </div>
                {% endif %}
                {% endfor %}
            </div>

            These are your groups bookings!
            <div class="container">
                <!-- Get all bookings for the user groups -->
                {% for booking in object_list %}
                {% if user.get_username == booking.person.get_username %}
                <div class="booking-item">
                    <h4>{{ booking.description}}</h4>
                    <div class = "title-description">Time</div>
                    {{ booking.start}} - {{ booking.end }}
                    <div class = "title-description">Location</div>
                    {{ booking.location }}
                    <p>
                        <a id="{{ booking.id }}" class="editModal btn btn-outline-primary btn-sm">Edit</a>
                        <a id="{{ booking.id }}" class="deleteModal btn btn-outline-primary btn-sm">Delete</a>
                    </p>
                </div>
                {% endif %}
                {% endfor %}
            </div>

        </div>
    </div>
{% endblock content %}

{% block script %}
    <script type="text/javascript" src="{% static 'js/expand_group_card.js' %}"></script>
    <script type="text/javascript" src="{% static 'js/myBookings.js' %}"></script>
    <script type="text/javascript" src="{% static 'js/calendar.js' %}"></script>
{% endblock script %}
